# Stand-Up Topics
	- vedi eventuali note in **Linked Reference**
	- Per #people/valerio, ma le board come fatturazione a questo punto servono ancora o vogliamo fare convergenza? nella mia board mi trovo praticamente solo le segnalazioni di fatturazione, √© corretto che stiano li oppure in assistenza?
	- mi guardate la 307
	- Riprendo domanda per Fabio
	  {{embed ((658edf39-ee8c-41b4-84ba-8760d6d7156b))}}
- # Attivit√°
  {{renderer :smartblock, resume-task, Resume Task ‚è©Ô∏è, false}} {{renderer :smartblock, new-task, New Task ‚ûï, false}}
	- ### DONE Scrivere un po' di doc in #logseq su meccanismo core di accesso reseller
	  tags:: event/task/begin, #topic/daily-journal-task, #issue/code, #issue/lack-of-documentation, #models/gsped/core/accesso, #models/gsped/core/accesso_reseller, #models/gsped/core/clienti
		- Si potrebbe partire da questo metodo preso da `\App\models\ClientModel`
		  collapsed:: true
			- ```php
			  /**
			       * Estrae lista di client_id per un dato user
			       *
			       * Possono avvenire 2 casi :
			       *
			       * 1. istanza reseller, client id >= 1000: in quel caso join con accesso_reseller per capire quali
			       *    client id pu√≥ usare user
			       * 2. istanza non reseller oppure client id < 1000 :  in quel caso join con accesso per capire quali
			       *    client id pu√≥ usare user
			       *
			       * Per il caso 1. lo user pu√≥ avere 1+ client id >= 1000 collegati in accesso, ma ne basta uno per capire
			       * se la lista di accessi per lo user √© in accesso_reseller. Ci sono utenti che hanno solo accesso ma
			       * che poi non hanno nulla in accesso reseller.
			       *
			       * Nel caso due si controlla accesso perche istanza non √© reseller oppure perche lo user ha records in accesso
			       * che tuttavia non sono client id invoiced.
			       *
			       * @todo: esiste un problema per il quale in certe configurazione un utente presente in accesso_reseller ha sia
			       *        un client_id < 1000 che un client_id > 1000
			       *
			       * @throws Exception
			       */
			      function list_access($user_id, $filter=false, $page=0, $per_page=0, $order_by='id', $order_direction='ASC') : array {
			          $reseller = getProvider('instances')->getInstance()->reseller();
			          $this->db->where('codice_utente', $user_id);
			          $rCliente = $this->db->get('accesso');
			          $cliente = $rCliente->row_array();
			  
			          $this->db->select('clienti.*');
			          if ($reseller->isActive() && $cliente['codice_cliente'] >= $reseller->IdThreshold()) {
			              $this->db->join('accesso_reseller', 'accesso_reseller.codice_cliente=clienti.id');
			          } else {
			              $this->db->join('accesso', 'accesso.codice_cliente=clienti.id');
			          }
			          $this->db->where('codice_utente', $user_id);
			  
			          if($filter) {
			              foreach($filter as $key=>$value) {
			  
			                  if(isset($this->computed_filters[$key])) {
			                      $key = $this->computed_filters[$key];
			                  }
			  
			                  if($key == 'id') {
			                      $this->db->where($key, (int)$value);
			                  } elseif ($key == 'dhl_ecommerce_plugin') {
			                      $this->db->where_in($key, (array)$value);
			                  } else {
			                      $this->db->like($key, $value);
			                  }
			              }
			          }
			  
			          $this->db->order_by($order_by, $order_direction);
			  
			          if($per_page && $page) {
			              $this->db->limit($per_page, ($page-1)*$per_page);
			          }
			  
			          $query = $this->db->get($this->table);
			          return $query->result_array();
			      }
			  ```
		- Ho creato queste pagine #models/gsped/core/accesso_reseller, #models/gsped/core/clienti/reseller_client, #models/gsped/core/utenti/cliente_reseller
		- query-table:: true
		  collapsed:: true
		  #+BEGIN_QUERY
		  {:title "Task reference table ‚ÜóÔ∏è Click üñ±Ô∏èto expand..." :query [:find (pull ?h [*])
		      :in $ ?parent
		      :where
		      [?parent :block/parent ?grandparent]
		      [?h :block/refs ?parent]
		  ]
		  :inputs [:parent-block]
		  :collapsed? true}
		  #+END_QUERY
	- ### DONE Fare un filtro Jira per reporter me
	  tags:: event/task/begin, #topic/daily-journal-task, #jira/improvements, #issue/jira/meta
		- Fare un filtro per scoprire le attivit√° in cui sono reporter ma da cui mi sono levato saggiamente come assegnatario
		- query-table:: true
		  collapsed:: true
		  #+BEGIN_QUERY
		  {:title "Task reference table ‚ÜóÔ∏è Click üñ±Ô∏èto expand..." :query [:find (pull ?h [*])
		      :in $ ?parent
		      :where
		      [?parent :block/parent ?grandparent]
		      [?h :block/refs ?parent]
		  ]
		  :inputs [:parent-block]
		  :collapsed? true}
		  #+END_QUERY
	- ### DONE Riprendo Task 307 Rispondo osservazioni ‚è©Ô∏è
	  tags:: #event/task/resume, #people/ricci 
	  {{embed ((6583e916-adeb-4864-8169-79bf0df31ff7))}}
	- ### DONE Riprendo Task Continua analisi expimp #courier/DHL ‚è©Ô∏è
	  tags:: #event/task/resume
	  {{embed ((65950f77-5112-4888-a2ac-77b38e01a5da)) }}
- # Aiuto compilazione
  collapsed:: true
  Se hai bisogno di aiuto nelle compilazioni ecco alcuni riferimenti utili, questi blocchi sono inclusi con embed per evitare duplicazioni
	- {{embed ((6565c304-9cba-4238-91e6-36a5a4b45930))}}
	- {{embed ((6565c304-72f1-40e2-b2ac-a2eab69b4998))}}
	- {{embed ((6565c304-fbc2-4931-ab16-96384d8543be))}}